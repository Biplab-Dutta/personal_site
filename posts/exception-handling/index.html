<!DOCTYPE html><html lang="en" data-mode="dark" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.2.2" /><meta property="og:title" content="Exception Handling with Functional Programming in Flutter (Either type)" /><meta name="author" content="Biplab Dutta" /><meta property="og:locale" content="en" /><meta name="description" content="Every application needs some data sources to receive the data and display it in the UI. So, it becomes very crucial how we, as developers, perform network requests. Handling API responses in an effective manner also determine the success or failure of our application." /><meta property="og:description" content="Every application needs some data sources to receive the data and display it in the UI. So, it becomes very crucial how we, as developers, perform network requests. Handling API responses in an effective manner also determine the success or failure of our application." /><link rel="canonical" href="https://biplabdutta.com.np/posts/exception-handling/" /><meta property="og:url" content="https://biplabdutta.com.np/posts/exception-handling/" /><meta property="og:site_name" content="Biplab Dutta" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2022-04-30T14:00:00+05:45" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Exception Handling with Functional Programming in Flutter (Either type)" /><meta name="twitter:site" content="@b_plab98" /><meta name="twitter:creator" content="@b_plab98" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Biplab Dutta","url":"https://twitter.com/b_plab98"},"dateModified":"2022-10-09T19:44:16+05:45","datePublished":"2022-04-30T14:00:00+05:45","description":"Every application needs some data sources to receive the data and display it in the UI. So, it becomes very crucial how we, as developers, perform network requests. Handling API responses in an effective manner also determine the success or failure of our application.","headline":"Exception Handling with Functional Programming in Flutter (Either type)","mainEntityOfPage":{"@type":"WebPage","@id":"https://biplabdutta.com.np/posts/exception-handling/"},"url":"https://biplabdutta.com.np/posts/exception-handling/"}</script><title>Exception Handling with Functional Programming in Flutter (Either type) | Biplab Dutta</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Biplab Dutta"><meta name="application-name" content="Biplab Dutta"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script><body data-spy="scroll" data-target="#toc" data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" class="mx-auto"> <img src="https://avatars.githubusercontent.com/u/63902683?v=4" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Biplab Dutta</a></div><div class="site-subtitle font-italic">Flutter Developer</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <a href="https://github.com/Biplab-Dutta" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href="https://twitter.com/b_plab98" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href="https://linkedin.com/in/biplab-dutta-43774717a" aria-label="linkedin" target="_blank" rel="noopener"> <i class="fab fa-linkedin"></i> </a> <a href="https://stackoverflow.com/users/10167900/biplab-dutta" aria-label="stack-overflow" target="_blank" rel="noopener"> <i class="fab fa-stack-overflow"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper"><div id="topbar" class="container d-flex align-items-center justify-content-between h-100 pl-3 pr-3 pl-md-4 pr-md-4"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>Exception Handling with Functional Programming in Flutter (Either type)</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper" class="d-flex justify-content-center"><div id="main" class="container pl-xl-4 pr-xl-4"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-9 pr-xl-4 pb-5"><div class="post pl-1 pr-1 pl-md-2 pr-md-2"><h1 data-toc-skip>Exception Handling with Functional Programming in Flutter (Either type)</h1><div class="post-meta text-muted"> <span> Posted <em class="" data-ts="1651306500" data-df="ll" data-toggle="tooltip" data-placement="bottom"> Apr 30, 2022 </em> </span> <span> Updated <em class="" data-ts="1665323956" data-df="ll" data-toggle="tooltip" data-placement="bottom"> Oct 9, 2022 </em> </span><div class="d-flex justify-content-between"> <span> By <em> <a href="https://twitter.com/b_plab98">Biplab Dutta</a> </em> </span><div> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="1984 words"> <em>11 min</em> read</span></div></div></div><div class="post-content"><p>Every application needs some data sources to receive the data and display it in the UI. So, it becomes very crucial how we, as developers, perform network requests. Handling API responses in an effective manner also determine the success or failure of our application.</p><p>In this post, we will see how to perform such network requests effectively using <a href="https://pub.dev/packages/dio">dio</a> and a bit of functional programming using the <a href="https://pub.dev/packages/dartz">dartz</a> package. This will allow our overall architecture to remain consistent while making our project scalable and maintainable.</p><blockquote class="prompt-info"><div><p><em>If you wish to read this article in Bahasa Indonesia, you can find it <a href="https://t.co/rpfOpMm3o0">here</a>. <a href="https://twitter.com/ghonijee?s=20&amp;t=lMK4d9e4jKn7jVCN6_7iLQ">Yunus Afghoni</a> has done good work taking this article as a reference and translating it to Bahasa Indonesia, with some subtle changes.</em></p></div></blockquote><h2 id="table-of-contents"><span class="mr-2">Table of Contents</span><a href="#table-of-contents" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><ul><li><a href="#dio-api-calls">Dio API Calls</a><li><a href="#data-layer-architecture">Data Layer Architecture</a><ul><li><a href="#data-transfer-objects-dtos">Data Transfer Objects (DTOs)</a><li><a href="#data-sources">Data Sources</a></ul><li><a href="#repository">Repository</a><li><a href="#bloc--viewmodel">BLoC / ViewModel</a><li><a href="#other-solutions">Other Solutions</a><li><a href="#conclusion">Conclusion</a></ul><p>To follow along, make sure to include <a href="https://pub.dev/packages/dio">dio</a> and <a href="https://pub.dev/packages/dartz">dartz</a> as your dependencies in the <code class="language-plaintext highlighter-rouge">pubspec.yaml</code> file.</p><h2 id="dio-api-calls"><span class="mr-2">Dio API Calls</span><a href="#dio-api-calls" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>First thing first, let’s take a look at how I used to make network requests in Flutter a while back 😂 when I was still a beginner.</p><div file="feed_remote_data_source.dart" class="language-dart highlighter-rouge"><div class="code-header"> <span data-label-text="feed_remote_data_source.dart"><i class="far fa-file-code"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
</pre><td class="rouge-code"><pre><span class="kd">class</span> <span class="nc">FeedRemoteDataSource</span> <span class="p">{</span>
  <span class="n">FeedRemoteDataSource</span><span class="p">(</span><span class="n">Dio</span> <span class="n">dio</span><span class="p">)</span> <span class="o">:</span> <span class="n">_dio</span> <span class="o">=</span> <span class="n">dio</span><span class="p">;</span>

  <span class="kd">final</span> <span class="n">Dio</span> <span class="n">_dio</span><span class="p">;</span>

  <span class="n">Future</span><span class="p">&lt;</span><span class="kt">List</span><span class="p">&lt;</span><span class="n">Feed</span><span class="p">&gt;&gt;</span> <span class="n">fetchFeeds</span><span class="p">()</span> <span class="kd">async</span> <span class="p">{</span>
    <span class="k">try</span> <span class="p">{</span>
      <span class="kd">final</span> <span class="n">response</span> <span class="o">=</span> <span class="k">await</span> <span class="n">_dio</span><span class="o">.</span><span class="na">get</span><span class="p">(</span><span class="s">'some url path'</span><span class="p">);</span>
      <span class="c1">// Some other work</span>
    <span class="p">}</span> <span class="kd">on</span> <span class="n">DioError</span> <span class="p">{</span>
      <span class="c1">// error handling</span>
      <span class="c1">// return empty list.</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></table></code></div></div><p>This was how I did my network request returning a List of something no matter what. It worked fine for small projects; however, it didn’t take much longer for me to realize that I had been doing it wrong. As you can see in the code snippet above, I was always returning a <code class="language-plaintext highlighter-rouge">List</code>, irrespective of the status code.</p><p>In real-world projects, we are likely to work in a multi-layered architecture which means our entire project could be divided into multiple layers. The layers can be:</p><ul><li><p><strong>Presentation Layer</strong> (consisting of UI code and ViewModel)</p><li><p><strong>Domain Layer</strong> (consisting of entities and use-cases (optional))</p><li><p><strong>Data Layer</strong> (consisting of <a href="https://en.wikipedia.org/wiki/Data_transfer_object">DTOs</a>, a repository, and data sources)</p></ul><p>In this article, we will work closely with the Data Layer as it is what this article is about in the first place.</p><p>Now, getting back to the previous snippet. The <code class="language-plaintext highlighter-rouge">fetchFeeds()</code> method always returned a <code class="language-plaintext highlighter-rouge">List</code>. The presentation layer will then have no idea if the returned <code class="language-plaintext highlighter-rouge">List</code> was because of a successful request or unsuccessful. Because a successful request can also sometimes give an empty list if the database has no data. So, it was clear that I was doing it wrong ❌. After spending some time looking at other people’s codes and tutorials 📖, I learned the importance of software architecture. 🤯</p><p>So, keeping proper architecture in our mind, let us redo the same request but in a <strong><em>proper</em></strong> way. 😎 Since I talked about architecture, let me begin with what our architecture for the data layer should look like.</p><blockquote class="prompt-info"><div><p><em>Before we proceed any further, let me tell you that this is not the best architecture or the only architecture you can go with. Different people/teams have their own ideas regarding architecture and their own ways of doing things. However, every architecture makes sure to separate UI and business logic which is why software architectures exist.</em></p></div></blockquote><h2 id="data-layer-architecture"><span class="mr-2">Data Layer Architecture</span><a href="#data-layer-architecture" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p><img data-src="https://dev-to-uploads.s3.amazonaws.com/uploads/articles/bvp87zh3qnjv4a9pn3vo.png" alt="Data Layer Architecture Diagramatic Representation" data-proofer-ignore> <em>Data Layer (Image by <a href="https://twitter.com/resocoder">Reso Coder</a>)</em></p><p>So, our data layer would consist of three parts:</p><ul><li><p><strong>Data Transfer Objects (DTOs)</strong>: They are the data layer representation of domain layer entities. They are also responsible for performing various data-related logic like conversion between Dart Object and JSON format and vice-versa. It also contains logic to convert domain layer entities into DTOs and vice-versa.</p><li><p><strong>Data Sources</strong>: It is where we perform all of our network requests and the result is passed to the repository. All network-related exceptions that may arise are also thrown here which are then caught by the repository and converted to <code class="language-plaintext highlighter-rouge">Failure</code> (about which we will see in a moment).</p><li><p><strong>Repository</strong>: The repository is what the view model communicates with. A repository also acts as a single gateway for data coming from several data sources. A repository is thus, essential in maintaining a single source of truth.</p></ul><h3 id="data-transfer-objects-dtos"><span class="mr-2">Data Transfer Objects (DTOs)</span><a href="#data-transfer-objects-dtos" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>First, let’s see how our <code class="language-plaintext highlighter-rouge">feed_dto.dart</code> would look like.</p><div file="feed_dto.dart" class="language-dart highlighter-rouge"><div class="code-header"> <span data-label-text="feed_dto.dart"><i class="far fa-file-code"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
</pre><td class="rouge-code"><pre><span class="kn">part</span> <span class="s">'user_dto.freezed.dart'</span><span class="o">;</span>
<span class="kn">part</span> <span class="s">'user_dto.g.dart'</span><span class="o">;</span>

<span class="nd">@freezed</span>    <span class="c1">// Import package freezed. [https://pub.dev/packages/freezed]</span>
<span class="kd">class</span> <span class="nc">FeedDTO</span> <span class="k">with</span> <span class="n">_$FeedDTO</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="kd">factory</span> <span class="n">FeedDTO</span><span class="p">({</span>
    <span class="kd">required</span> <span class="kt">String</span> <span class="n">title</span><span class="p">,</span>
  <span class="p">})</span> <span class="o">=</span> <span class="n">_FeedDTO</span><span class="p">;</span>

  <span class="kd">const</span> <span class="n">FeedDTO</span><span class="o">.</span><span class="na">_</span><span class="p">();</span>

  <span class="kd">factory</span> <span class="n">FeedDTO</span><span class="o">.</span><span class="na">fromJson</span><span class="p">(</span><span class="kt">Map</span><span class="p">&lt;</span><span class="kt">String</span><span class="p">,</span> <span class="kd">dynamic</span><span class="p">&gt;</span> <span class="n">json</span><span class="p">)</span> <span class="o">=</span><span class="p">&gt;</span>
      <span class="n">_$FeedDTOFromJson</span><span class="p">(</span><span class="n">json</span><span class="p">);</span>

  <span class="kd">factory</span> <span class="n">FeedDTO</span><span class="o">.</span><span class="na">fromDomain</span><span class="p">(</span><span class="n">Feed</span> <span class="n">feed</span><span class="p">)</span> <span class="o">=</span><span class="p">&gt;</span> <span class="n">FeedDTO</span><span class="p">(</span>
        <span class="nl">title:</span> <span class="n">feed</span><span class="o">.</span><span class="na">title</span><span class="p">,</span>
      <span class="p">);</span>

  <span class="n">Feed</span> <span class="n">toDomain</span><span class="p">()</span> <span class="o">=</span><span class="p">&gt;</span> <span class="n">Feed</span><span class="p">(</span><span class="nl">title:</span> <span class="n">title</span><span class="p">);</span>
<span class="p">}</span>
</pre></table></code></div></div><p>You will also need to have <a href="https://pub.dev/packages/freezed">freezed</a> included in your project as a dev-dependency along with <a href="https://pub.dev/packages/build_runner">build_runner</a>. Also, include <a href="https://pub.dev/packages/freezed_annotation">freezed_annotation</a> as a dependency.</p><blockquote class="prompt-info"><div><p><em>freezed is a code generator for data-classes/unions/pattern-matching/cloning.</em></p></div></blockquote><p>Next, you will need to have the required code generated which <a href="https://pub.dev/packages/freezed">freezed</a> and <a href="https://pub.dev/packages/build_runner">build_runner</a> will take care of. Run the following command to initialize code generation.</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>flutter pub run build_runner watch <span class="nt">--delete-conflicting-outputs</span>
</pre></table></code></div></div><h3 id="data-sources"><span class="mr-2">Data Sources</span><a href="#data-sources" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>In this section, we will perform our network request using the <a href="https://pub.dev/packages/dio">dio</a> package. Any exceptions that need to be thrown will be thrown in this section which then is handled by the <strong>Repository</strong>.</p><div file="feed_remote_data_source.dart" class="language-dart highlighter-rouge"><div class="code-header"> <span data-label-text="feed_remote_data_source.dart"><i class="far fa-file-code"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
</pre><td class="rouge-code"><pre><span class="kd">class</span> <span class="nc">FeedRemoteDataSource</span> <span class="p">{</span>
  <span class="n">FeedRemoteDataSource</span><span class="p">(</span>
    <span class="n">Dio</span> <span class="n">dio</span><span class="p">,</span>
  <span class="p">)</span> <span class="o">:</span> <span class="n">_dio</span> <span class="o">=</span> <span class="n">dio</span><span class="p">;</span>

  <span class="kd">final</span> <span class="n">Dio</span> <span class="n">_dio</span><span class="p">;</span>

  <span class="n">Future</span><span class="p">&lt;</span><span class="kt">List</span><span class="p">&lt;</span><span class="n">FeedDTO</span><span class="p">&gt;&gt;</span> <span class="n">getFeeds</span><span class="p">()</span> <span class="kd">async</span> <span class="p">{</span>
    <span class="k">try</span> <span class="p">{</span>
      <span class="kd">final</span> <span class="n">response</span> <span class="o">=</span> <span class="k">await</span> <span class="n">_dio</span><span class="o">.</span><span class="na">get</span><span class="p">&lt;</span><span class="kt">String</span><span class="p">&gt;(</span><span class="s">'some url path'</span><span class="p">);</span>
      <span class="k">if</span> <span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="na">statusCode</span> <span class="o">==</span> <span class="mi">200</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// decode json response</span>
        <span class="c1">// return List&lt;FeedDTO&gt;</span>
      <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="k">throw</span> <span class="n">RestApiException</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="na">statusCode</span><span class="p">);</span>   <span class="c1">// Custom class implementing Exception whose constructor accepts int</span>
      <span class="p">}</span>
    <span class="p">}</span> <span class="kd">on</span> <span class="n">DioError</span> <span class="k">catch</span> <span class="p">(</span><span class="n">e</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">if</span> <span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="na">isNoConnectionError</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// handle no connection error</span>
      <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="na">response</span> <span class="o">!=</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">throw</span> <span class="n">RestApiException</span><span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="na">response</span><span class="o">?.</span><span class="na">statusCode</span><span class="p">);</span>
      <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="k">rethrow</span><span class="p">;</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="n">extension</span> <span class="n">DioErrorX</span> <span class="kd">on</span> <span class="n">DioError</span> <span class="p">{</span>
  <span class="kt">bool</span> <span class="kd">get</span> <span class="n">isNoConnectionError</span> <span class="o">=</span><span class="p">&gt;</span>
      <span class="n">type</span> <span class="o">==</span> <span class="n">DioErrorType</span><span class="o">.</span><span class="na">other</span> <span class="o">&amp;&amp;</span> <span class="n">error</span> <span class="k">is</span> <span class="n">SocketException</span><span class="p">;</span>   <span class="c1">// import 'dart:io' for SocketException</span>
<span class="p">}</span>
</pre></table></code></div></div><h2 id="repository"><span class="mr-2">Repository</span><a href="#repository" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>This is the main gateway for the data coming from several data sources. Also, the <strong>ViewModel</strong> communicates with the <strong>Repository</strong> to get the data and display it in the UI. And the conversion between DTO and the domain-level entity is also performed here.</p><p>Now, how is our repository going to make it easy for us to handle exceptions so as to have a maintainable architecture? It’s simple. We use <strong><a href="https://medium.com/disney-streaming/option-either-state-and-io-imperative-programming-in-a-functional-world-8e176049af81">Either</a></strong>.</p><blockquote class="prompt-info"><div><p><em><code class="language-plaintext highlighter-rouge">Either</code> is an entity whose value can be of two different types, called left and right. By convention, <code class="language-plaintext highlighter-rouge">Right</code> is for the success case and <code class="language-plaintext highlighter-rouge">Left</code> is for the error one. It’s a common pattern in the functional community.</em></p></div></blockquote><p>It might be difficult to get a grasp on <code class="language-plaintext highlighter-rouge">Either</code> just by looking at its definition. So, let’s take a look at our repository implementation which will help us understand <code class="language-plaintext highlighter-rouge">Either</code> easily.</p><p>The <code class="language-plaintext highlighter-rouge">FeedRepositoryImpl</code> class implements <code class="language-plaintext highlighter-rouge">FeedRepository</code> which is a simple abstract class. The <code class="language-plaintext highlighter-rouge">FeedRepositoryImpl</code> is dependent on our <code class="language-plaintext highlighter-rouge">FetchRemoteDataSource</code>.</p><div file="feed_repository.dart" class="language-dart highlighter-rouge"><div class="code-header"> <span data-label-text="feed_repository.dart"><i class="far fa-file-code"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
</pre><td class="rouge-code"><pre><span class="kd">abstract</span> <span class="kd">class</span> <span class="nc">FeedRepository</span> <span class="p">{</span>
  <span class="n">Future</span><span class="p">&lt;</span><span class="n">Either</span><span class="p">&lt;</span><span class="n">Failure</span><span class="p">,</span> <span class="kt">List</span><span class="p">&lt;</span><span class="n">Feed</span><span class="p">&gt;&gt;&gt;</span> <span class="n">getFeeds</span><span class="p">();</span>
<span class="p">}</span>

<span class="kd">class</span> <span class="nc">FeedRepositoryImpl</span> <span class="kd">implements</span> <span class="n">FeedRepository</span> <span class="p">{</span>
  <span class="n">FeedRepositoryImpl</span><span class="p">({</span>
    <span class="kd">required</span> <span class="k">this</span><span class="o">.</span><span class="na">remoteDataSource</span><span class="p">,</span>
  <span class="p">});</span>

  <span class="kd">final</span> <span class="n">FeedRemoteDataSource</span> <span class="n">remoteDataSource</span><span class="p">;</span>

  <span class="nd">@override</span>
  <span class="n">Future</span><span class="p">&lt;</span><span class="n">Either</span><span class="p">&lt;</span><span class="n">Failure</span><span class="p">,</span> <span class="kt">List</span><span class="p">&lt;</span><span class="n">Feed</span><span class="p">&gt;&gt;&gt;</span> <span class="n">getFeeds</span><span class="p">()</span> <span class="kd">async</span> <span class="p">{</span>
    <span class="k">try</span> <span class="p">{</span>
      <span class="kd">final</span> <span class="n">result</span> <span class="o">=</span> <span class="k">await</span> <span class="n">remoteDataSource</span><span class="o">.</span><span class="na">getFeeds</span><span class="p">();</span>
      <span class="k">return</span> <span class="n">right</span><span class="p">(</span><span class="n">result</span><span class="o">.</span><span class="na">toDomainList</span><span class="p">);</span>
    <span class="p">}</span> <span class="kd">on</span> <span class="n">RestApiException</span> <span class="p">{</span>
      <span class="k">return</span> <span class="n">left</span><span class="p">(</span>
        <span class="kd">const</span> <span class="n">Failure</span><span class="o">.</span><span class="na">serverError</span><span class="p">(),</span>
      <span class="p">);</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="n">extension</span> <span class="n">DTOListToDomainList</span> <span class="kd">on</span> <span class="kt">List</span><span class="p">&lt;</span><span class="n">FeedDTO</span><span class="p">&gt;</span> <span class="p">{</span>
  <span class="kt">List</span><span class="p">&lt;</span><span class="n">Feed</span><span class="p">&gt;</span> <span class="kd">get</span> <span class="n">toDomainList</span> <span class="o">=</span><span class="p">&gt;</span> <span class="n">map</span><span class="p">((</span><span class="n">e</span><span class="p">)</span> <span class="o">=</span><span class="p">&gt;</span> <span class="n">e</span><span class="o">.</span><span class="na">toDomain</span><span class="p">())</span><span class="o">.</span><span class="na">toList</span><span class="p">();</span>
<span class="p">}</span>
</pre></table></code></div></div><p>Now, now, now!! What is that method returning <code class="language-plaintext highlighter-rouge">Future&lt;Either&lt;Failure, List&lt;Feed&gt;&gt;&gt;</code> ??? 🤯😵‍💫 And how can a method return two different data types? 😵‍💫</p><p>If you are thinking the same, then it’s just as simple as it can get.</p><p><code class="language-plaintext highlighter-rouge">Either&lt;A, B&gt;</code> means that a method will return either <code class="language-plaintext highlighter-rouge">A</code> or <code class="language-plaintext highlighter-rouge">B</code> depending on the situation. It won’t return both <code class="language-plaintext highlighter-rouge">A</code> and <code class="language-plaintext highlighter-rouge">B</code>.</p><p>In our case, the <code class="language-plaintext highlighter-rouge">getFeeds()</code> returns <code class="language-plaintext highlighter-rouge">Future&lt;Either&lt;Failure, List&lt;Feed&gt;&gt;&gt;</code> meaning either <code class="language-plaintext highlighter-rouge">Failure</code> or <code class="language-plaintext highlighter-rouge">List&lt;Feed&gt;</code> . And because we are dealing with asynchronous code, we also have <code class="language-plaintext highlighter-rouge">Future</code>.</p><p><code class="language-plaintext highlighter-rouge">Failure</code> is just a simple union class that is created using <a href="https://pub.dev/packages/freezed">freezed</a> package.</p><div file="failure.dart" class="language-dart highlighter-rouge"><div class="code-header"> <span data-label-text="failure.dart"><i class="far fa-file-code"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre><span class="kn">part</span> <span class="s">'failure.freezed.dart'</span><span class="o">;</span>

<span class="nd">@freezed</span>
<span class="kd">class</span> <span class="nc">Failure</span> <span class="k">with</span> <span class="n">_$Failure</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="kd">factory</span> <span class="n">Failure</span><span class="o">.</span><span class="na">serverError</span><span class="p">()</span> <span class="o">=</span> <span class="n">_ServerError</span><span class="p">;</span>
  <span class="kd">const</span> <span class="kd">factory</span> <span class="n">Failure</span><span class="o">.</span><span class="na">anotherFailure</span><span class="p">()</span> <span class="o">=</span> <span class="n">_AnotherFailure</span><span class="p">;</span>
<span class="p">}</span>
</pre></table></code></div></div><p>If you had run the <code class="language-plaintext highlighter-rouge">build_runner watch</code> command earlier, saving the above <code class="language-plaintext highlighter-rouge">failure.dart</code> file will automatically generate a bunch of code for you. Else run the command again.</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>flutter pub run build_runner watch <span class="nt">--delete-conflicting-outputs</span>
</pre></table></code></div></div><p>So, our repository implementation is pretty straightforward now. If the remote data source returns relevant data, then the repository will return <code class="language-plaintext highlighter-rouge">Right</code> i.e. <code class="language-plaintext highlighter-rouge">List&lt;Feed&gt;</code> else it returns <code class="language-plaintext highlighter-rouge">Left</code> i.e. <code class="language-plaintext highlighter-rouge">Failure</code>. Notice how the exceptions that were wildly being thrown from the remote data source are now gone because the repository implementation returns the Dart object. 🤩</p><p>This way, we also reduce the risk of the <a href="https://www.linkedin.com/pulse/error-handling-let-bubble-up-mihael-schmidt/">error bubble</a>.</p><h2 id="bloc--viewmodel"><span class="mr-2">BLoC / ViewModel</span><a href="#bloc--viewmodel" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>So, how exactly are we going to deal with the obtained result from the <strong>repository</strong> in the presentation layer? For that, we will need to create a <strong>bloc</strong> that will be dependent on the <strong>repository</strong>. I prefer using <a href="https://pub.dev/packages/flutter_bloc">flutter_bloc</a> for state management purposes.</p><blockquote class="prompt-tip"><div><p><em>You needn’t use flutter_bloc to follow along. Any state management solution is fine.</em> 👍️</p></div></blockquote><div file="timeline_event.dart" class="language-dart highlighter-rouge"><div class="code-header"> <span data-label-text="timeline_event.dart"><i class="far fa-file-code"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre><span class="kn">part of</span> <span class="s">'timeline_bloc.dart'</span><span class="o">;</span>

<span class="nd">@freezed</span>
<span class="kd">class</span> <span class="nc">TimelineEvent</span> <span class="k">with</span> <span class="n">_$TimelineEvent</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="kd">factory</span> <span class="n">TimelineEvent</span><span class="o">.</span><span class="na">feedFetched</span><span class="p">()</span> <span class="o">=</span> <span class="n">_FeedFetched</span><span class="p">;</span>
  <span class="c1">// add some other events too as desired...</span>
<span class="p">}</span>
</pre></table></code></div></div><div file="timeline_state.dart" class="language-dart highlighter-rouge"><div class="code-header"> <span data-label-text="timeline_state.dart"><i class="far fa-file-code"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre><td class="rouge-code"><pre><span class="kn">part of</span> <span class="s">'timeline_bloc.dart'</span><span class="o">;</span>

<span class="nd">@freezed</span>
<span class="kd">class</span> <span class="nc">TimelineState</span> <span class="k">with</span> <span class="n">_$TimelineState</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="kd">factory</span> <span class="n">TimelineState</span><span class="o">.</span><span class="na">loading</span><span class="p">()</span> <span class="o">=</span> <span class="n">_Loading</span><span class="p">;</span>
  <span class="kd">const</span> <span class="kd">factory</span> <span class="n">TimelineState</span><span class="o">.</span><span class="na">loaded</span><span class="p">({</span><span class="kd">required</span> <span class="kt">List</span><span class="p">&lt;</span><span class="n">Feed</span><span class="p">&gt;</span> <span class="n">feeds</span><span class="p">})</span> <span class="o">=</span> <span class="n">_Loaded</span><span class="p">;</span>
  <span class="kd">const</span> <span class="kd">factory</span> <span class="n">TimelineState</span><span class="o">.</span><span class="na">failed</span><span class="p">()</span> <span class="o">=</span> <span class="n">_Failed</span><span class="p">;</span>
<span class="p">}</span>
</pre></table></code></div></div><div file="timeline_bloc.dart" class="language-dart highlighter-rouge"><div class="code-header"> <span data-label-text="timeline_bloc.dart"><i class="far fa-file-code"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
</pre><td class="rouge-code"><pre><span class="kd">class</span> <span class="nc">TimelineBloc</span> <span class="kd">extends</span> <span class="n">Bloc</span><span class="p">&lt;</span><span class="n">TimelineEvent</span><span class="p">,</span> <span class="n">TimelineState</span><span class="p">&gt;</span> <span class="p">{</span>
  <span class="n">TimelineBloc</span><span class="p">(</span>
    <span class="n">FeedRepository</span> <span class="n">repository</span><span class="p">,</span>
  <span class="p">)</span>   <span class="o">:</span> <span class="n">_repository</span> <span class="o">=</span> <span class="n">repository</span><span class="p">,</span>
        <span class="k">super</span><span class="p">(</span><span class="kd">const</span> <span class="n">TimelineState</span><span class="o">.</span><span class="na">loading</span><span class="p">())</span> <span class="p">{</span>
    <span class="kd">on</span><span class="p">&lt;</span><span class="n">TimelineEvent</span><span class="p">&gt;(</span>
      <span class="p">(</span><span class="n">event</span><span class="p">,</span> <span class="n">emit</span><span class="p">)</span> <span class="kd">async</span> <span class="p">{</span>
        <span class="k">await</span> <span class="n">event</span><span class="o">.</span><span class="na">when</span><span class="p">&lt;</span><span class="n">Future</span><span class="p">&lt;</span><span class="kt">void</span><span class="p">&gt;&gt;(</span>
          <span class="nl">feedFetched:</span> <span class="p">()</span> <span class="o">=</span><span class="p">&gt;</span> <span class="n">_onFeedFetched</span><span class="p">(</span><span class="n">emit</span><span class="p">),</span>
        <span class="p">);</span>
      <span class="p">},</span>
    <span class="p">);</span>
  <span class="p">}</span>

  <span class="kd">final</span> <span class="n">FeedRepository</span> <span class="n">_repository</span><span class="p">;</span>

  <span class="n">Future</span><span class="p">&lt;</span><span class="kt">void</span><span class="p">&gt;</span> <span class="n">_onFeedFetched</span><span class="p">(</span><span class="n">Emitter</span><span class="p">&lt;</span><span class="n">TimelineState</span><span class="p">&gt;</span> <span class="n">emit</span><span class="p">)</span> <span class="kd">async</span> <span class="p">{</span>
    <span class="kd">final</span> <span class="n">fetchedFeed</span> <span class="o">=</span> <span class="k">await</span> <span class="n">_repository</span><span class="o">.</span><span class="na">getFeeds</span><span class="p">();</span>
    <span class="n">fetchedFeed</span><span class="o">.</span><span class="na">fold</span><span class="p">&lt;</span><span class="kt">void</span><span class="p">&gt;(</span>     <span class="c1">// fetchedFeed is a Either type. We use fold to say what to do for each case i.e. for `Failure` and `Success` cases.</span>
      <span class="p">(</span><span class="n">failure</span><span class="p">)</span> <span class="o">=</span><span class="p">&gt;</span> <span class="n">emit</span><span class="p">(</span><span class="kd">const</span> <span class="n">TimelineState</span><span class="o">.</span><span class="na">failed</span><span class="p">()),</span>
      <span class="p">(</span><span class="n">feeds</span><span class="p">)</span> <span class="o">=</span><span class="p">&gt;</span> <span class="n">emit</span><span class="p">(</span><span class="n">TimelineState</span><span class="o">.</span><span class="na">loaded</span><span class="p">(</span><span class="nl">feeds:</span> <span class="n">feeds</span><span class="p">)),</span>
    <span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></table></code></div></div><p>In the <code class="language-plaintext highlighter-rouge">_onFeedFetched()</code> method above, the instance of the class implementing <strong>FeedRepository</strong> (the abstract class) is used to call the <code class="language-plaintext highlighter-rouge">getFeeds()</code> method which returns an <code class="language-plaintext highlighter-rouge">Either</code> type (stored in <code class="language-plaintext highlighter-rouge">fetchedFeed</code>). We use <code class="language-plaintext highlighter-rouge">fold</code> method to emit proper state depending on the result of <code class="language-plaintext highlighter-rouge">_repository.getFeeds().</code> The <code class="language-plaintext highlighter-rouge">fold</code> accepts to functions as its argument. The first function is used to perform an action when <code class="language-plaintext highlighter-rouge">Failure</code> is returned, whereas the second function is used to perform an action when a <code class="language-plaintext highlighter-rouge">Success</code> is returned. <code class="language-plaintext highlighter-rouge">Success</code> in our case refers to <code class="language-plaintext highlighter-rouge">List&lt;Feed&gt;</code>.</p><p>Now, from our UI, we can use <a href="https://pub.dev/packages/flutter_bloc#blocbuilder">BlocBuilder</a> to rebuild our widget on certain state changes.</p><h2 id="other-solutions"><span class="mr-2">Other Solutions</span><a href="#other-solutions" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>There are many other ways to effectively handle exceptions in our Flutter project. We can also rely on sealed classes. A good example of it can be found <a href="https://getstream.io/blog/modeling-retrofit-responses/">here</a>.</p><h2 id="conclusion"><span class="mr-2">Conclusion</span><a href="#conclusion" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>In this article, you saw how to implement network requests in Flutter in a proper manner. We learned how we can use <a href="https://pub.dev/packages/dio">dio</a>, <a href="https://pub.dev/packages/freezed">freezed</a>, <a href="https://pub.dev/packages/dartz">dartz</a>, and a few other architectural overviews that can help us in making our app more maintainable, and testable and ultimately help us in becoming a better developer.</p><p>Also, this happens to be my very first blog. I know there are room for improvements and therefore, I seek feedback from the community.</p><p>If you wish to see some Flutter projects with proper architecture, follow me on <a href="https://github.com/Biplab-Dutta/">GitHub</a>. I am also active on Twitter <a href="https://twitter.com/b_plab98">@b_plab</a> where I tweet about Flutter and Android.</p><p><strong>My Socials:</strong></p><div class="table-wrapper"><table><tbody><tr><td><a href="https://github.com/Biplab-Dutta/">GitHub</a><td><a href="https://www.linkedin.com/in/biplab-dutta-43774717a/">LinkedIn</a><td><a href="https://twitter.com/b_plab98">Twitter</a></table></div><p>Until next time, happy coding!!! 👨‍💻</p><p>— Biplab Dutta</p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/flutter/'>flutter</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/flutter/" class="post-tag no-text-decoration" >flutter</a> <a href="/tags/dart/" class="post-tag no-text-decoration" >dart</a> <a href="/tags/functional-programming/" class="post-tag no-text-decoration" >functional programming</a> <a href="/tags/either/" class="post-tag no-text-decoration" >either</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Exception+Handling+with+Functional+Programming+in+Flutter+%28Either+type%29+-+Biplab+Dutta&url=https%3A%2F%2Fbiplabdutta.com.np%2Fposts%2Fexception-handling%2F" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Exception+Handling+with+Functional+Programming+in+Flutter+%28Either+type%29+-+Biplab+Dutta&u=https%3A%2F%2Fbiplabdutta.com.np%2Fposts%2Fexception-handling%2F" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=https%3A%2F%2Fbiplabdutta.com.np%2Fposts%2Fexception-handling%2F&text=Exception+Handling+with+Functional+Programming+in+Flutter+%28Either+type%29+-+Biplab+Dutta" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <a href="https://www.linkedin.com/sharing/share-offsite/?url=https%3A%2F%2Fbiplabdutta.com.np%2Fposts%2Fexception-handling%2F" data-toggle="tooltip" data-placement="top" title="Linkedin" target="_blank" rel="noopener" aria-label="Linkedin"> <i class="fa-fw fab fa-linkedin"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" data-title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">Recently Updated</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/exception-handling/">Exception Handling with Functional Programming in Flutter (Either type)</a><li><a href="/posts/reactive-programming/">A Taste of Reactive Programming in Flutter with RxDart and flutter_bloc</a><li><a href="/posts/form-validation/">Form Validation in Flutter using flutter_bloc and Functional Programming (Either)—A Proper Way</a><li><a href="/posts/product-flavors/">Product Flavors in Flutter—Create admin and non-admin apps with distinct UI with a single codebase</a><li><a href="/posts/theme-switching/">Theme Switching & Persisting in Flutter using cubits and Stream</a></ul></div><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/dart/">dart</a> <a class="post-tag" href="/tags/flutter/">flutter</a> <a class="post-tag" href="/tags/either/">either</a> <a class="post-tag" href="/tags/flutter-bloc/">flutter_bloc</a> <a class="post-tag" href="/tags/functional-programming/">functional programming</a> <a class="post-tag" href="/tags/stream/">stream</a> <a class="post-tag" href="/tags/build-variants/">build variants</a> <a class="post-tag" href="/tags/code-coverage/">code coverage</a> <a class="post-tag" href="/tags/cubits/">cubits</a> <a class="post-tag" href="/tags/fakes/">fakes</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">Contents</div><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 pl-3 pr-3 pr-xl-4"><div id="related-posts" class="mb-2 mb-sm-4"><h3 class="pt-2 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/form-validation/"><div class="card-body"> <em class="small" data-ts="1652606100" data-df="ll" > May 15, 2022 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Form Validation in Flutter using flutter_bloc and Functional Programming (Either)—A Proper Way</h3><div class="text-muted small"><p> Dealing with forms is a very common task that we encounter as mobile application developers. With forms come form validation. It is necessary to show relevant warnings to the users when they don’t ...</p></div></div></a></div><div class="card"> <a href="/posts/reactive-programming/"><div class="card-body"> <em class="small" data-ts="1651922100" data-df="ll" > May 7, 2022 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>A Taste of Reactive Programming in Flutter with RxDart and flutter_bloc</h3><div class="text-muted small"><p> When it comes to reactive programming, not many developers, especially junior developers feel comfortable with it. The base for reactive programming in Dart is Stream, a type in dart used to repres...</p></div></div></a></div><div class="card"> <a href="/posts/product-flavors/"><div class="card-body"> <em class="small" data-ts="1653128100" data-df="ll" > May 21, 2022 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Product Flavors in Flutter—Create admin and non-admin apps with distinct UI with a single codebase</h3><div class="text-muted small"><p> Have you ever wondered how some mobile applications have admin and non-admin variants? The admin app has different UIs than the non-admin ones. Or have you seen some apps on the Play Store or App S...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"><div class="btn btn-outline-primary disabled" prompt="Older"><p>-</p></div><a href="/posts/reactive-programming/" class="btn btn-outline-primary" prompt="Newer"><p>A Taste of Reactive Programming in Flutter with RxDart and flutter_bloc</p></a></div><div id="disqus_thread" class="pt-2 pb-2"><p class="text-center text-muted small"> Comments powered by <a href="https://disqus.com/">Disqus</a>.</p></div><script type="text/javascript"> var disqus_config = function () { this.page.url = 'https://biplabdutta.com.np/posts/exception-handling/'; this.page.identifier = '/posts/exception-handling/'; }; /* Lazy loading */ var disqus_observer = new IntersectionObserver(function (entries) { if(entries[0].isIntersecting) { (function () { var d = document, s = d.createElement('script'); s.src = 'https://personal-blogging-site.disqus.com/embed.js'; s.setAttribute('data-timestamp', +new Date()); (d.head || d.body).appendChild(s); })(); disqus_observer.disconnect(); } }, { threshold: [0] }); disqus_observer.observe(document.querySelector('#disqus_thread')); /* Auto switch theme */ function reloadDisqus() { /* Disqus hasn't been loaded */ if (typeof DISQUS === "undefined") { return; } if (document.readyState == 'complete') { DISQUS.reset({ reload: true, config: disqus_config }); } } const modeToggle = document.querySelector(".mode-toggle"); if (typeof modeToggle !== "undefined") { /* modeToggle.addEventListener('click', reloadDisqus); // not pretty for 'color-scheme' */ window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', reloadDisqus); } </script></div></div><footer class="row pl-3 pr-3"><div class="col-12 d-flex justify-content-between align-items-center text-muted pl-0 pr-0"><div class="footer-left"><p class="mb-0"> © 2022 <a href="https://twitter.com/b_plab98">Biplab Dutta</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/dart/">dart</a> <a class="post-tag" href="/tags/flutter/">flutter</a> <a class="post-tag" href="/tags/either/">either</a> <a class="post-tag" href="/tags/flutter-bloc/">flutter_bloc</a> <a class="post-tag" href="/tags/functional-programming/">functional programming</a> <a class="post-tag" href="/tags/stream/">stream</a> <a class="post-tag" href="/tags/build-variants/">build variants</a> <a class="post-tag" href="/tags/code-coverage/">code coverage</a> <a class="post-tag" href="/tags/cubits/">cubits</a> <a class="post-tag" href="/tags/fakes/">fakes</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a><div id="notification" class="toast" role="alert" aria-live="assertive" aria-atomic="true" data-animation="true" data-autohide="false"><div class="toast-header"> <button type="button" class="ml-2 ml-auto close" data-dismiss="toast" aria-label="Close"> <span aria-hidden="true">&times;</span> </button></div><div class="toast-body text-center pt-0"><p class="pl-2 pr-2 mb-3">A new version of content is available.</p><button type="button" class="btn btn-primary" aria-label="Update"> Update </button></div></div><script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No results found.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/lozad/dist/lozad.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1/dayjs.min.js,npm/dayjs@1/locale/en.min.js,npm/dayjs@1/plugin/relativeTime.min.js,npm/dayjs@1/plugin/localizedFormat.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.bundle.min.js"></script> <script defer src="/app.js"></script>
